---
import Layout from "../layouts/Layout.astro";
import AboutMe from "../components/AboutMe.astro";
import Skills from "../components/Skills.astro";
import EducationCard from "../components/EducationCard.astro";
import TimeZoneCard from "../components/TimeZoneCard.astro";
import Card from "../components/Card/index.astro";
import ExperienceCard from "../components/ExperiencieCard.astro";
import Discord from "../components/Discord.jsx";
import Spotify from "../components/Spotify.jsx";
---

<script>
  import {
    stagger,
    spring,
    timeline,
    type TimelineDefinition,
  } from "@motionone/dom";

  document.addEventListener("astro:page-load", () => {
    const cards = document.querySelectorAll(".card");

    const sequence = [
      [
        cards,

        { y: ["60%", "0%"], opacity: [0, 1] },
        {
          at: "-0.5",
          duration: 0.4,
          delay: stagger(0.3),
          easing: spring({ velocity: 100, stiffness: 30, damping: 10 }),
        },
      ],
    ];

    timeline(sequence as TimelineDefinition);
  });
</script>

<Layout title="Fabian Casas Portfolio">
  <main
    class="text-white m-auto h-auto p-2 grid gap-2 max-w-6xl overflow-hidden relative w-auto sm:p-4 sm:gap-2 md:grid-cols-2 md:gap-3 md:p-6 lg:h-screen lg:grid-rows-8 lg:grid-cols-4 lg:gap-4"
  >
    <AboutMe />
    <Skills />
    <EducationCard />
    <TimeZoneCard />

    <Card
      colSpan="md:col-span-1 flex items-center justify-center"
      rowSpan="md:row-span-1"
    >
      <Discord client:load />
    </Card>

    <Card
      colSpan="md:col-span-1 flex items-center justify-center"
      rowSpan="md:row-span-1"
      title=""
      href="/projects"
    >
      <p class="text-lg font-medium text-center">Mis Proyectos</p>
    </Card>

    <Card colSpan="md:col-span-1 flex items-center" rowSpan="md:row-span-2">
      <p class="text-1xl text-center" data-cursor="text">
        © 2024 · Hecho con Astro por Fabián Casas.
      </p>
    </Card>

    <Card
      colSpan="md:col-span-1 flex items-center justify-center"
      rowSpan="md:row-span-1"
    >
      <Spotify client:load />
    </Card>
    <ExperienceCard />
  </main>
</Layout>
